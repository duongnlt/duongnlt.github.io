---
import Base from '../layouts/Base.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
---

<Base meta={{ title: 'Home' }}>
  <div class="space-y-12">
    <div class="mb-12">
      <div class="flex flex-col md:flex-row gap-8 items-start mb-8">
        <img src="/profile.png" alt="Ly Thai Duong Nguyen" class="w-48 h-48 rounded-full object-cover flex-shrink-0" />
        <div class="flex-1">
          <h1 class="text-5xl font-bold tracking-tight mb-4 text-light-text dark:text-dark-text">Ly-Thai-Duong Nguyen</h1>
          <p class="text-xl text-light-muted dark:text-dark-muted mb-8">AI Engineer</p>
          <div class="space-y-4 text-lg text-light-text dark:text-dark-text text-justify leading-relaxed">
            <p>
              I am an AI Engineer currently pursuing a Master's degree in Computer Science at the University of Stuttgart, 
              specializing in Autonomous Systems. My work focuses on Computer Vision, 3D Reconstruction, LLMs,
              and building scalable AI systems.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Publications Section -->
    <div class="mt-16 mb-12">
      <h2 class="text-2xl font-semibold mb-6 text-light-text dark:text-dark-accent border-b border-light-border dark:border-dark-border pb-2">
        Publications
      </h2>
      <div class="text-light-muted dark:text-dark-muted italic text-light-text dark:text-dark-text">
        <p>More to come...</p>
      </div>
    </div>

    <!-- Recent Posts -->
    <div class="mt-16">
      <h2 class="text-2xl font-semibold mb-6 text-light-text dark:text-dark-accent border-b border-light-border dark:border-dark-border pb-2">
        Recent Posts
      </h2>
      <div class="space-y-4">
        {posts.length === 0 && (
          <p class="text-light-muted dark:text-dark-muted">No posts yet.</p>
        )}
        {posts.map((post) => (
          <a href={`/blog/${post.slug}`} class="block group border border-light-border dark:border-dark-border rounded-xl p-6 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all">
            <h3 class="text-lg font-medium text-light-text dark:text-dark-text group-hover:text-light-accent dark:group-hover:text-dark-accent transition-colors">
              {post.data.title}
            </h3>
            <p class="text-sm text-light-muted dark:text-dark-muted mt-1">
              {post.data.description}
            </p>
            <p class="text-xs text-light-muted dark:text-dark-muted mt-1">
              {post.data.pubDate.toLocaleDateString('en-us', { year: 'numeric', month: 'long', day: 'numeric' })}
            </p>
          </a>
        ))}
      </div>
    </div>
  </div>
</Base>
